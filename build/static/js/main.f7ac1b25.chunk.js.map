{"version":3,"sources":["components/Header.js","components/Welcome.js","components/Chat.js","components/ErrorMsg.js","components/auth/Register.js","components/auth/Login.js","components/auth/Profile.js","components/Invite.js","App.js","reportWebVitals.js","index.js"],"names":["Header","useContext","UserContext","userData","setUserData","Navbar","bg","expand","Container","className","to","Brand","Toggle","aria-controls","Collapse","id","user","Nav","Link","name","onClick","token","undefined","localStorage","setItem","Welcome","Button","variant","size","active","socket","io","Chat","useState","chatUsers","setChatUsers","msg","room","isPrivate","chatMessage","setChatMessage","msgList","setMsgList","currentRoom","setCurrentRoom","useEffect","emit","on","newMessage","userList","enteringRoom","e","oldRoom","newRoom","target","textContent","isChatPrivate","roomName","forEach","userName","Row","Col","xs","style","border","listStyleType","map","fontSize","listStyle","index","color","onSubmit","preventDefault","type","value","onChange","required","width","ErrorMsg","props","padding","margin","Register","password","passwordAgain","setUser","errorMsg","setErrorMsg","handleSubmit","a","newUser","console","log","axios","post","loginResponse","data","window","location","handleChange","oldUser","Login","response","Profile","fruits","setFruits","get","then","date","toString","slice","filter","fruit","addedBy","_id","amount","info","delete","headers","Invite","email","setEmail","status","setStatus","sendMail","method","body","JSON","stringify","createContext","App","getItem","tokenResponse","userResponse","isLoggedIn","Provider","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","disableReactDevTools","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f7ac1b25.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nimport { UserContext } from \"../App\";\r\nimport { Navbar, Nav, Container } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\n\r\nconst Header = () => {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n\r\n  const logOut = () => {\r\n    setUserData({\r\n      token: undefined,\r\n      user: undefined,\r\n    });\r\n    localStorage.setItem(\"auth-token\", \"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Navbar bg=\"light\" expand=\"lg\">\r\n        <Container className=\"header\">\r\n          <LinkContainer to=\"/\">\r\n            <Navbar.Brand>&#127822; WELCOME &#127822;</Navbar.Brand>\r\n          </LinkContainer>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            {userData.user ? (\r\n              <Nav className=\"ml-auto\">\r\n                <LinkContainer to=\"/chat\">\r\n                  <Nav.Link>Chat</Nav.Link>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/profile\">\r\n                  <Nav.Link>Profile ({userData.user.name})</Nav.Link>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/login\">\r\n                  <Nav.Link onClick={logOut}>Log Out</Nav.Link>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/invite\">\r\n                  <Nav.Link>Invite</Nav.Link>\r\n                </LinkContainer>\r\n              </Nav>\r\n            ) : (\r\n              <Nav className=\"ml-auto\">\r\n                <LinkContainer to=\"/register\">\r\n                  <Nav.Link>Register</Nav.Link>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/login\">\r\n                  <Nav.Link>Log In</Nav.Link>\r\n                </LinkContainer>\r\n              </Nav>\r\n            )}\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Button, Nav } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Welcome = () => {\r\n  return (\r\n    <div>\r\n      <center className=\"welcome\">\r\n        <h1>Welcome to LetsChat</h1>\r\n        <br />\r\n        <h5>\r\n          <b>Happy Chatting !!!! &#9996;</b>\r\n        </h5>\r\n\r\n        <br />\r\n\r\n        <Button variant=\"outline-light\" size=\"lg\" active>\r\n          <Link to=\"/chat\"> CHAT</Link>\r\n        </Button>\r\n      </center>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Welcome;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { UserContext } from \"../App\";\r\nimport { Container, Col, Row, Button } from \"react-bootstrap\";\r\nimport io from \"socket.io-client\";\r\n\r\nconst socket = io();\r\nconst Chat = () => {\r\n  const [chatUsers, setChatUsers] = useState([]);\r\n  const [chatMessage, setChatMessage] = useState({\r\n    name: \"\",\r\n    msg: \"\",\r\n    room: \"\",\r\n    isPrivate: false,\r\n  });\r\n  const [msgList, setMsgList] = useState([]);\r\n  const [currentRoom, setCurrentRoom] = useState(\"General Chat\");\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"userJoin\", userData.user.name);\r\n  }, []);\r\n\r\n  const { userData, setUserData } = useContext(UserContext);\r\n\r\n  socket.on(\"newMessage\", (newMessage) => {\r\n    setMsgList([\r\n      ...msgList,\r\n      {\r\n        name: newMessage.name,\r\n        msg: newMessage.msg,\r\n        isPrivate: newMessage.isPrivate,\r\n      },\r\n    ]);\r\n  });\r\n\r\n  socket.on(\"userList\", (userList) => {\r\n    setChatUsers(userList);\r\n    setChatMessage({ name: userData.user.name, msg: chatMessage.msg });\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setChatMessage({ ...chatMessage, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const newMessageSubmit = (e) => {\r\n    e.preventDefault();\r\n    const newMessage = {\r\n      name: chatMessage.name,\r\n      msg: chatMessage.msg,\r\n      room: currentRoom,\r\n      isPrivate: isChatPrivate(currentRoom, chatUsers),\r\n    };\r\n\r\n    socket.emit(\"newMessage\", newMessage);\r\n\r\n    setChatMessage({\r\n      name: userData.user.name,\r\n      msg: \"\",\r\n    });\r\n  };\r\n\r\n  const enteringRoom = (e) => {\r\n    let oldRoom = currentRoom;\r\n    let newRoom = e.target.textContent;\r\n    setCurrentRoom(newRoom);\r\n    socket.emit(\"roomEntered\", { oldRoom, newRoom });\r\n    setMsgList([]);\r\n  };\r\n\r\n  const isChatPrivate = (roomName, userList) => {\r\n    let isPrivate = false;\r\n    userList.forEach((userName) => {\r\n      if (userName === roomName) {\r\n        isPrivate = true;\r\n      }\r\n    });\r\n    return isPrivate;\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-ui\">\r\n      <div>\r\n        <Container>\r\n          <Row>\r\n            <Col xs={5} style={{ border: \"1px solid black\" }}>\r\n              <br />\r\n\r\n              <br />\r\n\r\n              <p>\r\n                <b>Currently Connected Users:</b>\r\n                <br />\r\n                <br />\r\n                <b>Click on user to chat</b>\r\n              </p>\r\n              <ul style={{ listStyleType: \"none\" }}>\r\n                {chatUsers.map((user) => {\r\n                  return (\r\n                    <li\r\n                      onClick={enteringRoom}\r\n                      style={\r\n                        ({ cursor: \"pointer\" },\r\n                        { color: \"Green\" },\r\n                        { fontSize: \"35px\" })\r\n                      }\r\n                      key={user}\r\n                    >\r\n                      {user}\r\n                    </li>\r\n                  );\r\n                })}\r\n              </ul>\r\n            </Col>\r\n            <Col style={{ border: \"1px solid black\" }}>\r\n              <div\r\n                className=\"input\"\r\n                id=\"chatMessages\"\r\n                style={{ border: \"1px solid black\" }}\r\n              >\r\n                Messages\r\n                <ul style={{ listStyle: \"none\" }}>\r\n                  {msgList.map((msgList, index) => {\r\n                    return (\r\n                      <li className=\"color\" key={index}>\r\n                        <b>{msgList.name}: </b>\r\n                        <i>\r\n                          <span\r\n                            style={{\r\n                              color: msgList.isPrivate ? \"red\" : \"black\",\r\n                            }}\r\n                          >\r\n                            {msgList.msg}\r\n                          </span>\r\n                        </i>\r\n                      </li>\r\n                    );\r\n                  })}\r\n                </ul>\r\n              </div>\r\n              <br />\r\n              <p>Chat Messages ({currentRoom})</p>\r\n              <div className=\"msg-input\">\r\n                <form onSubmit={newMessageSubmit}>\r\n                  <div className=\"msg-inside\">\r\n                    <div>\r\n                      <input\r\n                        size=\"40\"\r\n                        className=\"msg\"\r\n                        type=\"text\"\r\n                        name=\"msg\"\r\n                        value={chatMessage.msg}\r\n                        onChange={handleChange}\r\n                        required\r\n                        style={{ width: \"80%\" }}\r\n                      />\r\n                    </div>\r\n                    <Button variant=\"primary\" type=\"submit\" size=\"sm\">\r\n                      Send\r\n                    </Button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import React from \"react\";\r\n\r\nconst ErrorMsg = (props) => {\r\n  return (\r\n    <div style={{ padding: \"20px\", margin: \"10px\", border: \"1px solid red\" }}>\r\n      <span style={{ color: \"red\" }}>\r\n        <b>{props.msg}</b>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorMsg;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\nimport ErrorMsg from \"../ErrorMsg\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst Register = () => {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n\r\n  const [user, setUser] = useState({\r\n    name: \"\",\r\n    password: \"\",\r\n    passwordAgain: \"\",\r\n  });\r\n  const [errorMsg, setErrorMsg] = useState();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const newUser = {\r\n        name: user.name,\r\n        password: user.password,\r\n      };\r\n\r\n      if (user.password !== user.passwordAgain) {\r\n        setErrorMsg(\"Enter the same password twice!\");\r\n        return;\r\n      } else {\r\n        console.log(newUser);\r\n      }\r\n      await axios.post(\r\n        \"https://mern-lets-chat.onrender.com/api/users/register\",\r\n        newUser\r\n      );\r\n      const loginResponse = await axios.post(\r\n        \"https://mern-lets-chat.onrender.com/api/users/login\",\r\n        newUser\r\n      );\r\n      setUserData({\r\n        token: loginResponse.data.token,\r\n        user: loginResponse.data.user,\r\n      });\r\n      localStorage.setItem(\"auth-token\", loginResponse.data.token);\r\n\r\n      setUser({\r\n        name: \"\",\r\n        password: \"\",\r\n        passwordAgain: \"\",\r\n      });\r\n\r\n      window.location = \"/fruitlist\";\r\n    } catch (err) {\r\n      //err.response.data.msg\r\n      //? setErrorMsg(err.response.data.msg)\r\n      //: setErrorMsg(\"We have some error!\");\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser((oldUser) => {\r\n      return {\r\n        ...oldUser,\r\n        [name]: value,\r\n      };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <center>\r\n        <h1>Register Here</h1>\r\n        <br />\r\n        {errorMsg && <ErrorMsg msg={errorMsg} />}\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"input\">\r\n            <label>User Name&nbsp; </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={user.name}\r\n              required\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <br />\r\n          <div className=\"input\">\r\n            <label>Password&nbsp; </label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={user.password}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <br />\r\n          <div className=\"input\">\r\n            <label>Password Again&nbsp; </label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"passwordAgain\"\r\n              value={user.passwordAgain}\r\n              onChange={handleChange}\r\n            />\r\n            <br />\r\n          </div>\r\n          <div className=\"input\">\r\n            <Button variant=\"primary\" type=\"submit\" size=\"lg\">\r\n              Register User\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </center>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\nimport ErrorMsg from \"../ErrorMsg\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst Login = () => {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n\r\n  const [user, setUser] = useState({\r\n    name: \"\",\r\n    password: \"\",\r\n  });\r\n  const [errorMsg, setErrorMsg] = useState();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const newUser = {\r\n        name: user.name,\r\n        password: user.password,\r\n      };\r\n\r\n      const loginResponse = await axios.post(\r\n        \"https://mern-lets-chat.onrender.com/api/users/login\",\r\n        newUser\r\n      );\r\n\r\n      //console.log(loginResponse.data)\r\n      setUserData({\r\n        token: loginResponse.data.token,\r\n        user: loginResponse.data.user,\r\n      });\r\n      localStorage.setItem(\"auth-token\", loginResponse.data.token);\r\n\r\n      setUser({\r\n        name: \"\",\r\n        password: \"\",\r\n      });\r\n\r\n      window.location = \"/\";\r\n    } catch (err) {\r\n      err.response.data.msg\r\n        ? setErrorMsg(err.response.data.msg)\r\n        : setErrorMsg(\"We have an error!\");\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser((oldUser) => {\r\n      return {\r\n        ...oldUser,\r\n        [name]: value,\r\n      };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <center>\r\n        <h1>Log In</h1>\r\n        <br />\r\n        {errorMsg && <ErrorMsg msg={errorMsg} />}\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"input\">\r\n            <label>User Name&nbsp; </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={user.name}\r\n              required\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <br />\r\n          <div className=\"input\">\r\n            <label>Password&nbsp; </label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={user.password}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n\r\n          <br />\r\n          <div className=\"input\">\r\n            <Button variant=\"success\" type=\"submit\" size=\"lg\">\r\n              Log In\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </center>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { UserContext } from \"../../App\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst Profile = () => {\r\n  const [fruits, setFruits] = useState([]);\r\n  const { userData, setUserData } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"https://mern-lets-chat.onrender.com/api/fruits\")\r\n      .then((response) => setFruits(response.data));\r\n  }, []);\r\n\r\n  const userDelete = () => {\r\n    axios\r\n      .delete(\"https://mern-lets-chat.onrender.com/api/users/profile\", {\r\n        headers: {\r\n          \"auth-token\": userData.token,\r\n        },\r\n      })\r\n      .then((window.location = \"/fruitlist\"));\r\n\r\n    setUserData({\r\n      token: undefined,\r\n      user: undefined,\r\n    });\r\n    localStorage.setItem(\"auth-token\", \"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>User Profile of {userData.user.name}</h1>\r\n      <br />\r\n      <h5>\r\n        <b>User ID: </b>\r\n        {userData.user.id}\r\n      </h5>\r\n      <h5>\r\n        <b>Register Date: </b>\r\n        {userData.user.date.toString().slice(0, 10) +\r\n          \" @ \" +\r\n          userData.user.date.toString().slice(11, 19)}\r\n      </h5>\r\n      <br />\r\n\r\n      <ul style={{ listStyleType: \"none\" }}>\r\n        {fruits\r\n          .filter((fruit) => {\r\n            if (fruit.addedBy === userData.user.name) {\r\n              return fruit;\r\n            }\r\n          })\r\n          .map((fruit) => {\r\n            return (\r\n              <li key={fruit._id}>\r\n                <Link to={`/fruit/${fruit._id}`}>\r\n                  <b>{fruit.name}</b>\r\n                </Link>{\" \"}\r\n                ({fruit.amount}) - {fruit.info}\r\n                &nbsp;[Added on{\" \"}\r\n                <i>\r\n                  {fruit.date.toString().slice(0, 10) +\r\n                    \" @ \" +\r\n                    fruit.date.toString().slice(11, 19)}\r\n                </i>\r\n                ]\r\n              </li>\r\n            );\r\n          })}\r\n      </ul>\r\n\r\n      <Button className=\"btn btn-danger\" onClick={userDelete}>\r\n        Delete Account\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\nconst Invite = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [status, setStatus] = useState(\"\");\r\n\r\n  const sendMail = async (e) => {\r\n    e.preventDefault();\r\n    const res = await axios\r\n      .post(\"https://mern-lets-chat.onrender.com/sendmail\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          email,\r\n        }),\r\n      })\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          setStatus(\"Invite Message Sent Successfully\");\r\n        } else {\r\n          setStatus(\"Invite Message not Sent ,please check the mail address \");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <center>\r\n      <div>\r\n        <br />\r\n        <br />\r\n        <form onSubmit={sendMail}>\r\n          <div className=\"input\">\r\n            <label>ENTER YOUR FRIEND'S MAIL TO INVITE THEM TO LETS CHAT</label>\r\n            <input\r\n              type=\"email\"\r\n              style={{ width: \"50%\" }}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </div>\r\n          <br />\r\n          <h2>{status}</h2>\r\n          <br />\r\n          <div className=\"input\">\r\n            <Button size=\"lg\" type=\"submit\">\r\n              INVITE\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </center>\r\n  );\r\n};\r\n\r\nexport default Invite;\r\n","import { createContext, useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nimport Header from \"./components/Header\";\nimport Welcome from \"./components/Welcome\";\nimport Chat from \"./components/Chat\";\n\nimport Register from \"./components/auth/Register\";\nimport Login from \"./components/auth/Login\";\nimport Profile from \"./components/auth/Profile\";\nimport Invite from \"./components/Invite\";\n\nimport \"./App.css\";\n\nexport const UserContext = createContext();\n\nfunction App() {\n  const [userData, setUserData] = useState({\n    token: undefined,\n    user: undefined,\n  });\n\n  useEffect(() => {\n    const isLoggedIn = async () => {\n      let token = localStorage.getItem(\"auth-token\");\n      if (token == null) {\n        localStorage.setItem(\"auth-token\", \"\");\n        token = \"\";\n      }\n\n      const tokenResponse = await axios.post(\n        \"https://mern-lets-chat.onrender.com/api/users/tokenIsValid\",\n        null,\n        {\n          headers: { \"auth-token\": token },\n        }\n      );\n\n      console.log(tokenResponse.data);\n      if (tokenResponse.data) {\n        const userResponse = await axios.get(\n          \"https://mern-lets-chat.onrender.com/api/users/profile\",\n          {\n            headers: { \"auth-token\": token },\n          }\n        );\n        setUserData({\n          token: token,\n          user: userResponse.data,\n        });\n      }\n    };\n    isLoggedIn();\n  }, []);\n\n  return (\n    <UserContext.Provider value={{ userData, setUserData }}>\n      <Router>\n        <Header />\n        <Container>\n          <Route path=\"/\" exact component={Welcome} />\n          <Route path=\"/register\" component={Register} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/profile\" component={Profile} />\n          <Route path=\"/chat\" component={Chat} />\n          <Route path=\"/invite\" component={Invite} />\n        </Container>\n      </Router>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { disableReactDevTools } from \"@fvilers/disable-react-devtools\";\n\nif (process.env.NODE_ENV === \"production\") disableReactDevTools();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}